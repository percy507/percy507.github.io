<!DOCTYPE html>
<html>

<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">

    

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
        
            Linux 文件类型 |
        
        知秋的博客
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
        <link rel="icon" href="/img/avatar.jpeg">
    

    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/jquery-1.9.1.min.js"></script>

    <!-- 百度统计 -->
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?396a652192e7acec2ca52f785b6355f3";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head></html>
    <body>
        <div id="container">
            <div class="left-col">
                <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
				<img lazy-src="/img/avatar.jpeg" class="js-avatar">
			
		</a>

		<hgroup>
		  	<h1 class="header-author"><a href="/">知秋</a></h1>
		</hgroup>

		
			<p class="header-subtitle">大道至简 积累等待</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
							<div class="icon-wrap icon-me hide" data-idx="2">
								<div class="user"></div>
								<div class="shoulder"></div>
							</div>
						
						
							<div class="icon-wrap icon-info hide" data-idx="3">
								<div class="loopback_l"></div>
								<div class="loopback_r"></div>
							</div>
						
					</div>
				</div>

				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
							<li>关于我</li>
						
						
							<li>关于本站</li>
						
					</ul>
				</div>
			</div>
		
		
		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/tags/工具">工具</a></li>
				        
							<li><a href="/tags/solutions">方案集</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/percy507" title="github">github</a>
					        
								<a class="zhihu" target="_blank" href="https://www.zhihu.com/就不告诉你" title="zhihu">zhihu</a>
					        
								<a class="douban" target="_blank" href="https://www.douban.com/people/135304178/" title="douban">douban</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/CSS/" style="font-size: 13.64px;">CSS</a> <a href="/tags/DOM/" style="font-size: 13.64px;">DOM</a> <a href="/tags/ES6/" style="font-size: 17.27px;">ES6</a> <a href="/tags/Electron/" style="font-size: 10px;">Electron</a> <a href="/tags/HTML/" style="font-size: 13.64px;">HTML</a> <a href="/tags/HTML5/" style="font-size: 18.18px;">HTML5</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/Linux/" style="font-size: 16.36px;">Linux</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/Node-js/" style="font-size: 10.91px;">Node.js</a> <a href="/tags/PHP/" style="font-size: 11.82px;">PHP</a> <a href="/tags/Python/" style="font-size: 12.73px;">Python</a> <a href="/tags/SVG/" style="font-size: 10px;">SVG</a> <a href="/tags/Shell/" style="font-size: 10px;">Shell</a> <a href="/tags/Vue/" style="font-size: 13.64px;">Vue</a> <a href="/tags/Web-API/" style="font-size: 19.09px;">Web API</a> <a href="/tags/Web-安全/" style="font-size: 10px;">Web 安全</a> <a href="/tags/solutions/" style="font-size: 11.82px;">solutions</a> <a href="/tags/修电脑/" style="font-size: 10px;">修电脑</a> <a href="/tags/工具/" style="font-size: 11.82px;">工具</a> <a href="/tags/思想/" style="font-size: 10px;">思想</a> <a href="/tags/性能优化/" style="font-size: 10.91px;">性能优化</a> <a href="/tags/折腾/" style="font-size: 11.82px;">折腾</a> <a href="/tags/数据库/" style="font-size: 10.91px;">数据库</a> <a href="/tags/网络协议/" style="font-size: 10px;">网络协议</a> <a href="/tags/翻译/" style="font-size: 10px;">翻译</a> <a href="/tags/读书笔记/" style="font-size: 15.45px;">读书笔记</a> <a href="/tags/跨源通信/" style="font-size: 14.55px;">跨源通信</a> <a href="/tags/转载/" style="font-size: 10.91px;">转载</a>
					</div>
				</section>
				

				
					<section class="switch-part switch-part3">
						<div id="js-aboutme">
							<li>技术宅，向全栈进军~</li>
							<li><a href="/books">知秋读过的书</a></li>
							<li><a href="/movies">知秋看过的电影</a></li>
							<li>邮箱：percymong@163.com</li>
						</div>
					</section>
				

				
					
						<section class="switch-part switch-part4">
					
						<div id="js-aboutsite">
							<div>
								共有 <span id="posts-total-number">111</span> 篇文章
							</div>
							<div class="js-aboutsite-uv">
								<span id="busuanzi_container_site_uv">
									访客数 <span id="busuanzi_value_site_uv"></span> 人次
								</span>
							</div>
							<div class="js-aboutsite-pv">
								<span id="busuanzi_container_site_pv">
									总访问量 <span id="busuanzi_value_site_pv"></span> 次
								</span>
							</div>
						</div>
					</section>
				

			</div>
		</div>
	</header>				
</div>

            </div>

            <div class="mid-col">
                <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">知秋</h1>
  	</div>

	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<a href="/">
					
						<img lazy-src="img/avatar.jpeg" class="js-avatar">
					
				</a>
			</div>

			<hgroup>
				<a href="/">
					<h1 class="header-author">知秋</h1>
				</a>
			</hgroup>

			
				<p class="header-subtitle">大道至简 积累等待</p>
			

			<nav class="header-menu">
				<ul>
					
						<li><a href="/">主页</a></li>
					
						<li><a href="/tags/工具">工具</a></li>
					
						<li><a href="/tags/solutions">方案集</a></li>
					
						<li><a href="/archives">所有文章</a></li>
					
					<div class="clearfix"></div>
				</ul>
			</nav>
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/percy507" title="github">github</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/就不告诉你" title="zhihu">zhihu</a>
			        
						<a class="douban" target="_blank" href="https://www.douban.com/people/135304178/" title="douban">douban</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>


                <div class="body-wrap"><article id="post-linux-deep-into-file-type" class="article article-type-post" itemscope="" itemprop="blogPost">

    
        <div class="article-meta">
            <a href="#" class="article-date">
  	<time datetime="2018-01-16T04:12:00.000Z" itemprop="datePublished">2018-01-16</time>
</a>
        </div>
    

    <div class="article-inner">

        
            <header class="article-header">
                
  
    <h1 class="article-title" itemprop="name">
      Linux 文件类型
    </h1>
  

            </header>

            
                <div class="article-info article-info-post">
                    
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li></ul>
	</div>

                    <div class="clearfix"></div>
                </div>
            
        

        <div class="article-entry" itemprop="articleBody">
            

                <div class="article-moreinfo">
                    <div class="lastModifiedDate">
                        <span>最后更新：</span>
                        <time datetime="2018-01-17T04:12:00.000Z" itemprop="dateLastModified">
                        2018-01-17
                        </time>
                    </div>
                    <div class="read-count">
                        <span id="busuanzi_container_page_pv">
                        阅读次数： <span id="busuanzi_value_page_pv"></span> 次
                        </span>
                    </div>
                    <div class="copyright">
                        <span>许可协议：</span>
                        <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>
                    </div>
                </div>

                <blockquote>
<p><strong>In linux，everything is a file。</strong></p>
</blockquote>
<p>日常生活中，我们经常使用不同的文件后缀来表示不同文件类型，比如：<code>*.jpg</code> 是图片文件，<code>*.md</code> 是 MarkDown 文件等。但是从 Linux 系统层面讲，其实我们日常见到的大多数文件都属于 Linux 的 <strong>常规文件</strong> 或 <strong>普通文件</strong>。</p>
<p>除过这些常规文件，还有一些特殊的文件类型，比如目录文件、设备文件等。下面我们来一一了解一下这些文件！</p>
<h3 id="常规文件（Regular-File）"><a href="#常规文件（Regular-File）" class="headerlink" title="常规文件（Regular File）"></a>常规文件（Regular File）</h3><p>常规文件，即普通意义上的文件，比如一份 pdf 文档、一张图片、一个视频等。依照文件的内容，常规文件又可以分为<strong>纯文本文档（ASCII）</strong>、<strong>二进制文件（binary）</strong>、<strong>数据格式文件（data）</strong>等。</p>
<h3 id="目录文件（Directory-File）"><a href="#目录文件（Directory-File）" class="headerlink" title="目录文件（Directory File）"></a>目录文件（Directory File）</h3><p>Linux 中目录也是一种文件。目录文件包括了文件夹中所有文件的名字，以及文件夹自身的 <code>inode</code> 和文件夹中每个文件的 <code>inode</code>。</p>
<blockquote>
<p><strong>An inode is a data structure on a filesystem that stores all the information about a file except its name and its actual data.</strong></p>
<p><a href="http://www.linfo.org/directory.html" target="_blank" rel="noopener">See Directory Definition</a></p>
</blockquote>
<h3 id="设备文件（Device-File）"><a href="#设备文件（Device-File）" class="headerlink" title="设备文件（Device File）"></a>设备文件（Device File）</h3><p><strong>In Unix-like operating systems, a <a href="https://en.wikipedia.org/wiki/Device_file" target="_blank" rel="noopener">device file</a> or special file is an interface for a device driver that appears in a file system as if it were an ordinary file.</strong></p>
<p>设备文件为周边硬件设备（比如打印机、串行端口等）提供了简单的接口，它可以被这些硬件设备用来获取诸如磁盘分区等特殊的资源。此外，设备文件还可以用来获取那些与系统并没有任何实际的硬件设备连接的系统资源，比如数据接收器、随机数生成器等。</p>
<p>在类 Unix 系统中，有两种类型的设备文件：字符设备文件与块设备文件。这两种设备文件的区别在于系统或硬件如何向它们写入数据与读出数据。与命名管道相比，这两种设备文件可以统称为设备特殊文件，它们都不是普通文件，并且也不会与硬件设备进行直接连接。</p>
<blockquote>
<p>当向一个设备文件进行读数据或写数据操作时，发起这个操作的请求会被相关设备的驱动程序处理。每个设备文件都有一个与之关联的数字，而这个数字会被驱动程序使用。</p>
</blockquote>
<p><img src="/img/linux-device.jpg" alt="linux-device"></p>
<h4 id="字符设备文件（Character-Device）"><a href="#字符设备文件（Character-Device）" class="headerlink" title="字符设备文件（Character Device）"></a>字符设备文件（Character Device）</h4><p>Character special files or character devices provide <strong>unbuffered, direct access</strong> to the hardware device. They do not necessarily allow programs to read or write single characters at a time; that is up to the device in question. The character device for a hard disk, for example, will normally require that all reads and writes are aligned to block boundaries and most certainly will not allow reading a single byte.</p>
<p>Character devices are sometimes known as raw devices to avoid the confusion surrounding the fact that a character device for a piece of block-based hardware will typically require programs to read and write aligned blocks.</p>
<blockquote>
<p><strong>Character devices files behave like pipes, serial ports, etc. Writing or reading to them is an immediate action. What the driver does with the data is its own business.</strong> Writing a byte to a character device might cause it to be displayed on screen, output on a serial port, converted into a sound, … Reading a byte from a device might cause the serial port to wait for input, might return a random byte (/dev/urandom), … The name “character device” comes from the fact that each character is handled individually.</p>
</blockquote>
<h4 id="块设备文件（Block-Device）"><a href="#块设备文件（Block-Device）" class="headerlink" title="块设备文件（Block Device）"></a>块设备文件（Block Device）</h4><p>Block special files or block devices provide <strong>buffered access</strong> to hardware devices, and provide some abstraction from their specifics. Unlike character devices, block devices will always allow the programmer to read or write a block of any size (including single characters/bytes) and any alignment. The downside is that because block devices are buffered, the programmer does not know how long it will take before written data is passed from the kernel’s buffers to the actual device, or indeed in what order two separate writes will arrive at the physical device; additionally, if the same hardware exposes both character and block devices, there is a risk of data corruption due to clients using the character device being unaware of changes made in the buffers of the block device.</p>
<p>Most systems create both block and character devices to represent hardware like hard disks. FreeBSD and Linux notably do not; the former has removed support for block devices, while the latter creates only block devices. In Linux, to get a character device for a disk one must use the “raw” driver, though one can get the same effect as opening a character device by opening the block device with the Linux-specific O_DIRECT flag.</p>
<blockquote>
<p><strong>Block devices (also called block special files) usually behave a lot like ordinary files: they are an array of bytes, and the value that is read at a given location is the value that was last written there. Data from block device can be cached in memory and read back from cache; writes can be buffered.</strong> Block devices are normally seekable (i.e. there is a notion of position inside the file which the application can change). The name “block device” comes from the fact that the corresponding hardware typically reads and writes a whole block at a time (e.g. a sector on a hard disk).</p>
</blockquote>
<h3 id="命名管道（named-pipe-或-FIFO）"><a href="#命名管道（named-pipe-或-FIFO）" class="headerlink" title="命名管道（named pipe 或 FIFO）"></a>命名管道（named pipe 或 FIFO）</h3><p>命名管道（FIFO, 也称 named pipe），是一种特殊的文件，进程间互相通信的方式。与匿名管道不同，该管道将具象化为一个具体的文件，而且可以在不相关的进程间建立通信关系，效果就如同匿名管道的那样。</p>
<h3 id="套接字文件（local-socket-file）"><a href="#套接字文件（local-socket-file）" class="headerlink" title="套接字文件（local socket file）"></a>套接字文件（local socket file）</h3><p>Sockets are a special file type, similar to TCP/IP sockets, providing inter-process networking protected by the file system’s access control.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># open a listening socket in one terminal</span></span><br><span class="line">$ nc -lU socket.sock</span><br><span class="line"></span><br><span class="line"><span class="comment"># send data from another terminal:</span></span><br><span class="line">$ <span class="built_in">echo</span> mytext | nc -U socket.sock</span><br></pre></td></tr></table></figure>
<h3 id="符号链接（symbolic-link）"><a href="#符号链接（symbolic-link）" class="headerlink" title="符号链接（symbolic link）"></a>符号链接（symbolic link）</h3><blockquote>
<p>此种文件仅是一个指向其它文件的链接，可以理解为 Windows 系统上的快捷方式！</p>
<p>符号链接，也称软链接，相对应的还有硬链接，两者的区别请查看我的文章【Linux 文件属性】</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">'some text'</span> &gt; file.txt</span><br><span class="line"></span><br><span class="line">$ ln -s file.txt softlink.txt</span><br><span class="line"></span><br><span class="line">$ cat softlink.txt</span><br><span class="line">some text</span><br><span class="line"></span><br><span class="line">$ ls -ld softlink.txt</span><br><span class="line">lrwxrwxrwx 1 lubos lubos 5 Jan 10 14:42 softlink.txt -&gt; file.txt</span><br></pre></td></tr></table></figure>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul>
<li><a href="https://www.zhihu.com/question/21040222" target="_blank" rel="noopener">如何理解「In UNIX, everything is a file」？</a></li>
<li><a href="https://unix.stackexchange.com/questions/60034/what-are-character-special-and-block-special-files-in-a-unix-system?newreg=6fbb10892c864ad6b2024b2851687910" target="_blank" rel="noopener">What are character special and block special files in a unix system?</a></li>
</ul>

            
        </div>

        
    </div>
  
  <!-- 赏 -->



    
        
  <nav id="article-nav">
    
      <a href="/articles/linux-file-manage-command/" id="article-nav-newer" class="article-nav-link-wrap">
        <div class="article-nav-title">
          
            Linux 命令---文件管理
              
        </div>
      </a>
      
        
          <a href="/articles/linux-file-attributes/" id="article-nav-older" class="article-nav-link-wrap">
            <div class="article-nav-title">
              Linux 文件属性
            </div>
          </a>
          
  </nav>
  
    
</article>


<!-- 添加 disqus 评论框 -->

    <section id="comments">
        <div id="disqus_thread"></div>

        <script type="text/javascript">
            var disqus_shortname = 'blog-percymong-com';

            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; 
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>

        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </section>

</div>

                <footer id="footer">
  <div class="outer">
    <div id="footer-info">
		<div class="footer-left">
			&copy; 2016~2018 知秋
		</div>
      	<div class="footer-right">
      		Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a>
      	</div>
    </div>
	</div>
</footer>
            </div>
            
            <script>
	var yiliaConfig = {
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		open_in_new: false
	}
</script>

<!-- 不蒜子 -->
<script defer src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<script src="/js/main.js"></script>

<script src="/js/user.js"></script>


<script src="/js/content-table.js"></script>


<div id="totop" style="position:fixed;z-index:666;bottom:50px;right:30px;cursor: pointer;">
    <a title="返回顶部"><img src="/img/scrollup.png"></a>
</div>
<script src="/js/totop.js"></script>
        </div>
    </body>
</html>
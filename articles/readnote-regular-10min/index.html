<!DOCTYPE html>
<html>

<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">

    

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
        
            《正则表达式必知必会》读书笔记 |
        
        知秋的博客
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
        <link rel="icon" href="/img/avatar.jpeg">
    

    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/jquery-1.9.1.min.js"></script>

    <!-- 百度统计 -->
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?396a652192e7acec2ca52f785b6355f3";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head></html>
    <body>
        <div id="container">
            <div class="left-col">
                <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
				<img lazy-src="/img/avatar.jpeg" class="js-avatar">
			
		</a>

		<hgroup>
		  	<h1 class="header-author"><a href="/">知秋</a></h1>
		</hgroup>

		
			<p class="header-subtitle">大道至简 积累等待</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
							<div class="icon-wrap icon-me hide" data-idx="2">
								<div class="user"></div>
								<div class="shoulder"></div>
							</div>
						
						
							<div class="icon-wrap icon-info hide" data-idx="3">
								<div class="loopback_l"></div>
								<div class="loopback_r"></div>
							</div>
						
					</div>
				</div>

				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
							<li>关于我</li>
						
						
							<li>关于本站</li>
						
					</ul>
				</div>
			</div>
		
		
		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/tags/工具">工具</a></li>
				        
							<li><a href="/tags/solutions">方案集</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/percy507" title="github">github</a>
					        
								<a class="zhihu" target="_blank" href="https://www.zhihu.com/就不告诉你" title="zhihu">zhihu</a>
					        
								<a class="douban" target="_blank" href="https://www.douban.com/people/135304178/" title="douban">douban</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/CSS/" style="font-size: 14px;">CSS</a> <a href="/tags/DOM/" style="font-size: 14px;">DOM</a> <a href="/tags/ES6/" style="font-size: 17px;">ES6</a> <a href="/tags/Electron/" style="font-size: 10px;">Electron</a> <a href="/tags/HTML/" style="font-size: 14px;">HTML</a> <a href="/tags/HTML5/" style="font-size: 18px;">HTML5</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/Linux/" style="font-size: 16px;">Linux</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/Node-js/" style="font-size: 11px;">Node.js</a> <a href="/tags/PHP/" style="font-size: 12px;">PHP</a> <a href="/tags/Python/" style="font-size: 13px;">Python</a> <a href="/tags/SVG/" style="font-size: 10px;">SVG</a> <a href="/tags/Shell/" style="font-size: 10px;">Shell</a> <a href="/tags/Vue/" style="font-size: 14px;">Vue</a> <a href="/tags/Web-API/" style="font-size: 19px;">Web API</a> <a href="/tags/Web-安全/" style="font-size: 10px;">Web 安全</a> <a href="/tags/solutions/" style="font-size: 12px;">solutions</a> <a href="/tags/修电脑/" style="font-size: 10px;">修电脑</a> <a href="/tags/工具/" style="font-size: 12px;">工具</a> <a href="/tags/思想/" style="font-size: 10px;">思想</a> <a href="/tags/性能优化/" style="font-size: 11px;">性能优化</a> <a href="/tags/折腾/" style="font-size: 12px;">折腾</a> <a href="/tags/数据库/" style="font-size: 11px;">数据库</a> <a href="/tags/网络协议/" style="font-size: 10px;">网络协议</a> <a href="/tags/翻译/" style="font-size: 10px;">翻译</a> <a href="/tags/读书笔记/" style="font-size: 16px;">读书笔记</a> <a href="/tags/跨源通信/" style="font-size: 15px;">跨源通信</a> <a href="/tags/转载/" style="font-size: 11px;">转载</a>
					</div>
				</section>
				

				
					<section class="switch-part switch-part3">
						<div id="js-aboutme">
							<li>技术宅，向全栈进军~</li>
							<li><a href="/books">知秋读过的书</a></li>
							<li><a href="/movies">知秋看过的电影</a></li>
							<li>邮箱：percymong@163.com</li>
						</div>
					</section>
				

				
					
						<section class="switch-part switch-part4">
					
						<div id="js-aboutsite">
							<div>
								共有 <span id="posts-total-number">110</span> 篇文章
							</div>
							<div class="js-aboutsite-uv">
								<span id="busuanzi_container_site_uv">
									访客数 <span id="busuanzi_value_site_uv"></span> 人次
								</span>
							</div>
							<div class="js-aboutsite-pv">
								<span id="busuanzi_container_site_pv">
									总访问量 <span id="busuanzi_value_site_pv"></span> 次
								</span>
							</div>
						</div>
					</section>
				

			</div>
		</div>
	</header>				
</div>

            </div>

            <div class="mid-col">
                <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">知秋</h1>
  	</div>

	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<a href="/">
					
						<img lazy-src="img/avatar.jpeg" class="js-avatar">
					
				</a>
			</div>

			<hgroup>
				<a href="/">
					<h1 class="header-author">知秋</h1>
				</a>
			</hgroup>

			
				<p class="header-subtitle">大道至简 积累等待</p>
			

			<nav class="header-menu">
				<ul>
					
						<li><a href="/">主页</a></li>
					
						<li><a href="/tags/工具">工具</a></li>
					
						<li><a href="/tags/solutions">方案集</a></li>
					
						<li><a href="/archives">所有文章</a></li>
					
					<div class="clearfix"></div>
				</ul>
			</nav>
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/percy507" title="github">github</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/就不告诉你" title="zhihu">zhihu</a>
			        
						<a class="douban" target="_blank" href="https://www.douban.com/people/135304178/" title="douban">douban</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>


                <div class="body-wrap"><article id="post-readnote-regular-10min" class="article article-type-post" itemscope="" itemprop="blogPost">

    
        <div class="article-meta">
            <a href="#" class="article-date">
  	<time datetime="2016-10-20T04:12:00.000Z" itemprop="datePublished">2016-10-20</time>
</a>
        </div>
    

    <div class="article-inner">

        
            <header class="article-header">
                
  
    <h1 class="article-title" itemprop="name">
      《正则表达式必知必会》读书笔记
    </h1>
  

            </header>

            
                <div class="article-info article-info-post">
                    
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/读书笔记/">读书笔记</a></li></ul>
	</div>

                    <div class="clearfix"></div>
                </div>
            
        

        <div class="article-entry" itemprop="articleBody">
            

                <div class="article-moreinfo">
                    <div class="lastModifiedDate">
                        <span>最后更新：</span>
                        <time datetime="2018-08-29T04:12:00.000Z" itemprop="dateLastModified">
                        2018-08-29
                        </time>
                    </div>
                    <div class="read-count">
                        <span id="busuanzi_container_page_pv">
                        阅读次数： <span id="busuanzi_value_page_pv"></span> 次
                        </span>
                    </div>
                    <div class="copyright">
                        <span>许可协议：</span>
                        <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>
                    </div>
                </div>

                <p>随着 JavaScript 语言的不断发展，本文也会记录 JavaScript 对正则表达式的新的特性，不再仅仅是一篇读书笔记。</p>
<h3 id="元字符（metacharacter）"><a href="#元字符（metacharacter）" class="headerlink" title="元字符（metacharacter）"></a>元字符（metacharacter）</h3><p>元字符大致有两种：一种是用来匹配文本的（比如 <code>.</code>），另一种是用来定义正则表达式的语法的（比如 <code>[</code> <code>]</code>）。</p>
<h4 id="匹配一个字符或字符集合"><a href="#匹配一个字符或字符集合" class="headerlink" title="匹配一个字符或字符集合"></a>匹配一个字符或字符集合</h4><ul>
<li><code>.</code>：匹配除换行符(<code>\n</code>)以外的任何单个字符。</li>
<li><code>\</code>：对特殊字符进行转义。</li>
<li><code>[</code> <code>]</code>：定义字符集合。</li>
<li><code>-</code> ：一个特殊的元字符，常用在字符集合里定义一个字符区间，在字符集合外，只是一个普通字符。</li>
<li><code>^</code>：对字符集合进行取非匹配。</li>
</ul>
<h4 id="重复匹配"><a href="#重复匹配" class="headerlink" title="重复匹配"></a>重复匹配</h4><ul>
<li><code>+</code>：匹配一个或多个字符或字符集合（<code>{1,}</code>）</li>
<li><code>*</code>：匹配零个或多个字符或字符集合（<code>{0,}</code>）</li>
<li><code>?</code>：匹配零个或一个字符或字符集合（<code>{0,1}</code>）</li>
<li><code>{</code> <code>}</code>：定义匹配的重复次数<ul>
<li><strong>{3}</strong>：匹配重复 3 次</li>
<li><strong>{3,}</strong>：匹配至少重复 3 次</li>
<li><strong>{2,4}</strong>：匹配最少重复 2 次，最多重复 4 次</li>
</ul>
</li>
</ul>
<h4 id="特殊的元字符"><a href="#特殊的元字符" class="headerlink" title="特殊的元字符"></a>特殊的元字符</h4><p><strong>同一个元字符的大写形式与它的小写形式在功能上往往刚好相反。</strong></p>
<ul>
<li><code>\d</code>：匹配任何一个数字字符（[0-9]）</li>
<li><code>\D</code>：匹配任何一个非数字字符（[^0-9]）</li>
<li><code>\w</code>：[a-zA-Z0-9_]<ul>
<li>注意 <code>\w</code> 包括下划线 <code>（_）</code> 字符</li>
</ul>
</li>
<li><code>\W</code>：[^a-za-z0-9_]</li>
<li><code>\s</code>：匹配任何一个空白字符</li>
<li><code>\S</code>：匹配任何一个非空白字符</li>
</ul>
<blockquote>
<p>空格、制表符(Tab 键，<code>\t</code>)、换行符(<code>\n</code>)、回车符(<code>\r</code>)、换页符(<code>\f</code>)和垂直制表符(<code>\v</code>)称为<strong>空白字符</strong>。</p>
</blockquote>
<ul>
<li><code>\s</code>：匹配一个空白字符，它是一个空白字符集合。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// \s 等价于下面的字符集合</span></span><br><span class="line">\s == [\t\n\v\f\r\u0020\u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000]</span><br></pre></td></tr></table></figure>
<p>如果你单单需要匹配空格，请使用<strong>空格的 Unicode 码（<code>\u0020</code>）</strong>进行匹配，不要直接使用空格字符进行匹配。</p>
<blockquote>
<p><strong><code>\r\n</code> 是 Windows 系统使用的文本行结束标签，而 Linux/Unix 只使用 <code>\n</code> 来结束一个文本行，还有 Mac 系统里，每行结尾是 <code>\r</code>。</strong>参看：<a href="http://www.ruanyifeng.com/blog/2006/04/post_213.html" target="_blank" rel="noopener">回车和换行</a></p>
</blockquote>
<h3 id="防止过度匹配"><a href="#防止过度匹配" class="headerlink" title="防止过度匹配"></a>防止过度匹配</h3><p><code>*</code> <code>+</code> <code>{n,}</code> 都是所谓的<strong>贪婪型元字符</strong>，它们在匹配时的行为模式是多多益善而不是适可而止的。为了解决这种状况，只需在这几个元字符后面加上一个<code>?</code>后缀即可将其变为<strong>懒惰型元字符</strong>（<code>*?</code> <code>+?</code> <code>{n,}?</code>）。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"This is &lt;span&gt;my&lt;/span&gt; home &lt;span&gt;page&lt;/span&gt;!"</span>;</span><br><span class="line"><span class="keyword">var</span> test1 = str.match(<span class="regexp">/&lt;span&gt;.*&lt;\/span&gt;/g</span>);</span><br><span class="line"><span class="keyword">var</span> test2 = str.match(<span class="regexp">/&lt;span&gt;.*?&lt;\/span&gt;/g</span>);</span><br><span class="line"><span class="built_in">console</span>.log(test1); <span class="comment">// ["&lt;span&gt;my&lt;/span&gt; home &lt;span&gt;page&lt;/span&gt;"]</span></span><br><span class="line"><span class="built_in">console</span>.log(test2); <span class="comment">// ["&lt;span&gt;my&lt;/span&gt;", "&lt;span&gt;page&lt;/span&gt;"]</span></span><br></pre></td></tr></table></figure>
<h3 id="位置匹配"><a href="#位置匹配" class="headerlink" title="位置匹配"></a>位置匹配</h3><h4 id="单词边界"><a href="#单词边界" class="headerlink" title="单词边界"></a>单词边界</h4><ul>
<li><code>\b</code>：匹配一个单词的开始或结尾（这里的单词是一个由 <code>\w</code> 匹配的字符中的一个或多个字符组成的字符串）<br><code>\b</code>：只匹配一个位置，不匹配任何字符<br><code>\b</code> 匹配这样的一个位置，这个位置位于一个能够用来构成单词的字符（字母、数字和下划线，即 <code>\w</code> 匹配的字符）和一个不能用来构成单词的字符（即 <code>\W</code> 匹配的字符）之间。</li>
</ul>
<blockquote>
<p><a href="http://stackoverflow.com/questions/11874234/difference-between-w-and-b-regular-expression-meta-characters" target="_blank" rel="noopener">difference between \w and \b regular expression meta characters</a></p>
</blockquote>
<ul>
<li><code>\B</code>：匹配一个非单词边界的位置</li>
</ul>
<h4 id="字符串边界"><a href="#字符串边界" class="headerlink" title="字符串边界"></a>字符串边界</h4><ul>
<li><code>^</code>：匹配整个字符串的开始位置</li>
<li><code>$</code>：匹配整个字符串的结束位置</li>
</ul>
<h3 id="子表达式（subexpression）"><a href="#子表达式（subexpression）" class="headerlink" title="子表达式（subexpression）"></a>子表达式（subexpression）</h3><p><strong>子表达式用来对表达式进行分组和归类。</strong></p>
<ul>
<li><p><code>(</code> <code>)</code>：定义一个子表达式</p>
</li>
<li><p><code>(x)</code>：匹配并记住 x，括号被称为捕获括号</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"__abc_abcabc"</span>;</span><br><span class="line"><span class="keyword">var</span> test1 = str.match(<span class="regexp">/abc&#123;2,&#125;/g</span>);</span><br><span class="line"><span class="keyword">var</span> test2 = str.match(<span class="regexp">/(abc)&#123;2,&#125;/g</span>);</span><br><span class="line"><span class="built_in">console</span>.log(test1); <span class="comment">// null</span></span><br><span class="line"><span class="built_in">console</span>.log(test2); <span class="comment">// ["abcabc"]</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>(?:x)</code>：匹配但不记住 x，括号为非捕获括号（看一下下面的例子就会秒懂了）</li>
</ul>
<blockquote>
<p><strong>使用字符串的 match() 方法，在 <code>不给匹配的正则表达式加 g 标志</code> 时，match 方法除过会返回正常匹配的字符串外，还会返回捕获括号中匹配到的子串（有几个捕获括号，返回几个子串）。</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">`http://stackoverflow.com/questions`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 捕获括号测试</span></span><br><span class="line">str.match(<span class="regexp">/(stackoverflow)(\.com)/</span>);</span><br><span class="line"><span class="comment">// ["stackoverflow.com", "stackoverflow", ".com", index: 7, input: "http://stackoverflow.com/questions"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 非捕获括号测试</span></span><br><span class="line">str.match(<span class="regexp">/(?:stackoverflow)(\.com)/</span>);</span><br><span class="line"><span class="comment">// ["stackoverflow.com", ".com", index: 7, input: "http://stackoverflow.com/questions"]</span></span><br></pre></td></tr></table></figure>
<h3 id="回溯引用：前后一致匹配（backreference）"><a href="#回溯引用：前后一致匹配（backreference）" class="headerlink" title="回溯引用：前后一致匹配（backreference）"></a>回溯引用：前后一致匹配（backreference）</h3><p><strong>回溯引用是子表达式的另一种重要的用途。</strong></p>
<ul>
<li><code>\1</code>：对应着第一个子表达式</li>
<li><code>\2</code>：对应着第二个子表达式</li>
<li>……以此类推</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"begin &lt;h1&gt;Right title&lt;/h1&gt; ... &lt;h1&gt;Wrong title&lt;/h2&gt; end"</span>;</span><br><span class="line"></span><br><span class="line">str.match(<span class="regexp">/&lt;h[1-6]&gt;.*?&lt;\/h[1-6]&gt;/g</span>);</span><br><span class="line"><span class="comment">// ["&lt;h1&gt;Right title&lt;/h1&gt;", "&lt;h1&gt;Wrong title&lt;/h2&gt;"]</span></span><br><span class="line"></span><br><span class="line">str.match(<span class="regexp">/&lt;h([1-6])&gt;.*?&lt;\/h\1&gt;/g</span>);</span><br><span class="line"><span class="comment">// ["&lt;h1&gt;Right title&lt;/h1&gt;"]</span></span><br></pre></td></tr></table></figure>
<h3 id="前后查找（lookaround）"><a href="#前后查找（lookaround）" class="headerlink" title="前后查找（lookaround）"></a>前后查找（lookaround）</h3><blockquote>
<p><strong>JavaScript 在 ES2018 中引入了向后查找，此前仅支持向前查找</strong></p>
</blockquote>
<ul>
<li>向前查找（lookahead），分两种模式<ul>
<li><code>x(?=y)</code>：匹配 x 当且仅当 x 后面跟着 y</li>
<li><code>x(?!y)</code>：匹配 x 当且仅当 x 后面没有跟着 y</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"http://www.baidu.com"</span>;</span><br><span class="line"></span><br><span class="line">str.match(<span class="regexp">/\w&#123;4&#125;(:)/g</span>);</span><br><span class="line"><span class="comment">// ["http:"]</span></span><br><span class="line"></span><br><span class="line">str.match(<span class="regexp">/\w&#123;4&#125;(?=:)/g</span>);</span><br><span class="line"><span class="comment">// ["http"]</span></span><br><span class="line"></span><br><span class="line">str.match(<span class="regexp">/\w&#123;4&#125;(?!:)/g</span>);</span><br><span class="line"><span class="comment">// ["baid"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"$100 almost equals to 700RMB"</span>;</span><br><span class="line"></span><br><span class="line">str.match(<span class="regexp">/\d+(?=(RMB))/g</span>);</span><br><span class="line"><span class="comment">// ["700"]</span></span><br></pre></td></tr></table></figure>
<ul>
<li>向后查找（lookbehind），也分两种模式<ul>
<li><code>(?&lt;=y)x</code>：匹配 x 当且仅当 x 跟在 y 的后面</li>
<li><code>(?&lt;!y)x</code>：匹配 x 当且仅当 x 没有跟在 y 的后面</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"$100 almost equals to 700RMB"</span>;</span><br><span class="line"></span><br><span class="line">str.match(<span class="regexp">/(?&lt;=\$)\d+/g</span>);</span><br><span class="line"><span class="comment">// ["100"]</span></span><br><span class="line"></span><br><span class="line">str.match(<span class="regexp">/(?&lt;!\$)\d+/g</span>);</span><br><span class="line"><span class="comment">// ["00", "700"]</span></span><br></pre></td></tr></table></figure>
<h3 id="Unicode-属性类"><a href="#Unicode-属性类" class="headerlink" title="Unicode 属性类"></a>Unicode 属性类</h3><p>ES2018 引入了一种新的类的写法 <code>\p{...}</code> 和 <code>\P{...}</code>，允许正则表达式匹配符合 Unicode 某种属性的所有字符。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 匹配希腊字母</span></span><br><span class="line">/\p&#123;Script=Greek&#125;/u.test(<span class="string">"π"</span>); <span class="comment">// true</span></span><br><span class="line">/\p&#123;Script=Greek&#125;/u.test(<span class="string">"β"</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 匹配汉字</span></span><br><span class="line">/\p&#123;Unified_Ideograph&#125;/u.test(<span class="string">"霾"</span>); <span class="comment">// true</span></span><br><span class="line">/\p&#123;Unified_Ideograph&#125;/u.test(<span class="string">"w"</span>); <span class="comment">// false</span></span><br><span class="line">/\p&#123;Unified_Ideograph&#125;/u.test(<span class="string">"だ"</span>); <span class="comment">// false</span></span><br><span class="line">/\p&#123;Unified_Ideograph&#125;/u.test(<span class="string">"한"</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<h3 id="具名组匹配"><a href="#具名组匹配" class="headerlink" title="具名组匹配"></a>具名组匹配</h3><p>ES2018 引入了 <strong>具名组匹配（Named Capture Groups）</strong>，允许为每一个组匹配指定一个名字，既便于阅读代码，又便于引用。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> RE_DATE = <span class="regexp">/(?&lt;year&gt;\d&#123;4&#125;)-(?&lt;month&gt;\d&#123;2&#125;)-(?&lt;day&gt;\d&#123;2&#125;)/</span>;</span><br><span class="line"><span class="keyword">const</span> matchObj = RE_DATE.exec(<span class="string">"1999-12-31"</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; year, month, day &#125; = matchObj.groups;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(year, month, day); <span class="comment">// 1999 12 31</span></span><br></pre></td></tr></table></figure>
<h3 id="其他语法"><a href="#其他语法" class="headerlink" title="其他语法"></a>其他语法</h3><ul>
<li><code>x|y</code>：匹配 x 或 y，x、y 可以是一个字符或子表达式</li>
<li><code>[\b]</code>：匹配一个退格（不要和 <code>\b</code> 搞混了）</li>
<li><code>\uhhhh</code>：匹配一个与相应的 Unicode 编码对应的字符</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 空格的 unicode 编码为 \u0020</span></span><br><span class="line"></span><br><span class="line"><span class="string">"hello world"</span>.match(<span class="regexp">/\w\u0020\w/g</span>);</span><br><span class="line"><span class="comment">// ["o w"]</span></span><br></pre></td></tr></table></figure>
<h3 id="在-JavaScript-中使用正则表达式"><a href="#在-JavaScript-中使用正则表达式" class="headerlink" title="在 JavaScript 中使用正则表达式"></a>在 JavaScript 中使用正则表达式</h3><h4 id="RegExp-对象"><a href="#RegExp-对象" class="headerlink" title="RegExp 对象"></a><strong>RegExp 对象</strong></h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 定义一个正则表达式</span></span><br><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/pattern/</span>flags;</span><br><span class="line"><span class="keyword">var</span> reg2 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(pattern [, flags]);</span><br><span class="line"><span class="comment">// pattern 为正则表达式</span></span><br><span class="line"><span class="comment">// flags：</span></span><br><span class="line"><span class="comment">//          g 全局匹配</span></span><br><span class="line"><span class="comment">//          i 不区分大小写匹配</span></span><br><span class="line"><span class="comment">//          m 多行匹配</span></span><br></pre></td></tr></table></figure>
<p><strong>如果使用 m 标志，^和$匹配的开始或结束输入字符串中的每一行，而不是整个字符串的开始或结束。</strong></p>
<ul>
<li><strong>RegExp.prototype.exec(str)：</strong>为指定的一段字符串执行搜索匹配操作，返回一个数组或者 null</li>
<li><strong>RegExp.prototype.test(str)：</strong>用来查看正则表达式与指定的字符串是否匹配，返回 true 或 false</li>
</ul>
<h4 id="String-对象"><a href="#String-对象" class="headerlink" title="String 对象"></a><strong>String 对象</strong></h4><ul>
<li><strong>String.prototype.match(regexp)：</strong>为指定的一段字符串执行搜索匹配操作，返回一个数组或者 null</li>
</ul>
<p>在 match 函数中的正则表达式参数不包含 <code>g</code> 标志时，调用 match 函数返回的结果中会包含正则表达式中声明的捕获组，否则捕获组就不会被返回。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> url = <span class="string">"http://abcde.com#top"</span>;</span><br><span class="line"></span><br><span class="line">url.match(<span class="regexp">/.+:.*?(#.*)/</span>);</span><br><span class="line"><span class="comment">// ["http://abcde.com#top", "#top", index: 0, input: "http://abcde.com#top", groups: undefined]</span></span><br><span class="line"></span><br><span class="line">url.match(<span class="regexp">/.+:.*?(#.*)/g</span>);</span><br><span class="line"><span class="comment">// ["http://abcde.com#top"]</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>String.prototype.search(regexp)：</strong>查看该字符串对象与一个正则表达式是否匹配，若匹配，返回第一个匹配位置的索引，否则返回 -1</li>
<li><strong><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace" target="_blank" rel="noopener">String.prototype.replace(regexp|substr,newSubStr|function)</a>：</strong>匹配并进行替换</li>
</ul>
<p>当 replace 函数的第二个参数为字符串时，我们可以使用 <code>$1</code>、<code>$2</code>、<code>$3</code>… 这些特殊变量来表示前面正则表达式对应位数的捕获括号中匹配到的子字符串。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 交换字符串中的两个单词</span></span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/(\w+)\s(\w+)/</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"John Smith"</span>;</span><br><span class="line"><span class="keyword">var</span> newstr = str.replace(re, <span class="string">"$2, $1"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(newstr); <span class="comment">// Smith, John</span></span><br></pre></td></tr></table></figure>
<p>当 replace 函数的第二个参数为函数时，这个函数的第一个参数和倒数第二个参数之间的参数也可以用来表示捕获括号中匹配的子串。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">"20171005"</span>;</span><br><span class="line"></span><br><span class="line">str.replace(<span class="regexp">/(\d&#123;4&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)/</span>, <span class="function"><span class="keyword">function</span>(<span class="params">match, p1, p2, p3, offset, str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;p1&#125;</span>-<span class="subst">$&#123;p2&#125;</span>-<span class="subst">$&#123;p3&#125;</span>`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// "2017-10-05"</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/split" target="_blank" rel="noopener">String.prototype.split( regexp|str [, limit])</a>：</strong>将字符串以指定的方式进行分割，返回分割后的数组</li>
</ul>
<p>这个函数的第一个参数常为字符串，很少是正则表达式，但是遇到奇葩问题时，它还真的得用正则表达式</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 奇葩分割</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">"abc@123#as%666"</span>;</span><br><span class="line"></span><br><span class="line">str.split(<span class="regexp">/[@#%]/</span>);</span><br><span class="line"><span class="comment">// ["abc", "123", "as", "666"]</span></span><br></pre></td></tr></table></figure>
<p>以上。</p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul>
<li><a href="https://jhuang.me/2018/01/27/JavaScript-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D%E6%B1%89%E5%AD%97/" target="_blank" rel="noopener">JavaScript 正则表达式匹配汉字</a>（推荐，科普文）</li>
</ul>

            
        </div>

        
    </div>
  
  <!-- 赏 -->



    
        
  <nav id="article-nav">
    
      <a href="/articles/solution-js-scroll-to-top/" id="article-nav-newer" class="article-nav-link-wrap">
        <div class="article-nav-title">
          
            纯 JavaScript 实现页面滚动到顶部
              
        </div>
      </a>
      
        
          <a href="/articles/html-form-tag/" id="article-nav-older" class="article-nav-link-wrap">
            <div class="article-nav-title">
              HTML 表单详解
            </div>
          </a>
          
  </nav>
  
    
</article>


<!-- 添加 disqus 评论框 -->

    <section id="comments">
        <div id="disqus_thread"></div>

        <script type="text/javascript">
            var disqus_shortname = 'blog-percymong-com';

            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; 
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>

        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </section>

</div>

                <footer id="footer">
  <div class="outer">
    <div id="footer-info">
		<div class="footer-left">
			&copy; 2016~2018 知秋
		</div>
      	<div class="footer-right">
      		Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a>
      	</div>
    </div>
	</div>
</footer>
            </div>
            
            <script>
	var yiliaConfig = {
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		open_in_new: false
	}
</script>

<!-- 不蒜子 -->
<script defer src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<script src="/js/main.js"></script>

<script src="/js/user.js"></script>


<script src="/js/content-table.js"></script>


<div id="totop" style="position:fixed;z-index:666;bottom:50px;right:30px;cursor: pointer;">
    <a title="返回顶部"><img src="/img/scrollup.png"></a>
</div>
<script src="/js/totop.js"></script>
        </div>
    </body>
</html>